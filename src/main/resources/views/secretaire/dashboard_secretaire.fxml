<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.*?>
<?import javafx.scene.image.*?>

<StackPane fx:id="rootPane" prefHeight="800.0" prefWidth="1400.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.myapp.controller.SecretaireDashboardController" stylesheets="@../style.css">

    <ImageView fitHeight="${rootPane.height}" fitWidth="${rootPane.width}" pickOnBounds="true" preserveRatio="false">
        <image><Image url="@../images/bg.png" /></image>
    </ImageView>

    <VBox spacing="0" style="-fx-background-color: rgba(0, 130, 172, 0.45);">

        <HBox alignment="CENTER_LEFT" spacing="35" style="-fx-padding: 20 50;">
            <Label fx:id="navAccueil" onMouseClicked="#switchToAccueil" text="Accueil" styleClass="nav-link, active-link" style="-fx-cursor: hand;"/>
            <Label fx:id="navMessages" onMouseClicked="#switchToMessages" text="Messages" styleClass="nav-link" style="-fx-cursor: hand;"/>
            <Label fx:id="navParametres" onMouseClicked="#switchToParametres" text="Paramètres" styleClass="nav-link" style="-fx-cursor: hand;"/>
            <Label fx:id="navGestion" onMouseClicked="#switchToGestion" text="Gestion de comptes" styleClass="nav-link" style="-fx-cursor: hand;"/>

            <Region HBox.hgrow="ALWAYS"/>

            <HBox alignment="CENTER" spacing="15">
                <VBox alignment="CENTER_RIGHT">
                    <Label text="Sara Bennani" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    <Label text="Secrétaire" style="-fx-text-fill: rgba(255,255,255,0.8); -fx-font-size: 11;"/>
                </VBox>
                <Region prefHeight="45" prefWidth="45" style="-fx-background-color: white; -fx-background-radius: 50%;"/>
            </HBox>
        </HBox>

        <HBox spacing="25" VBox.vgrow="ALWAYS">
            <padding><Insets bottom="30" left="30" right="30" top="10" /></padding>

            <VBox prefWidth="450" spacing="25">
                <VBox styleClass="white-card">
                    <padding><Insets top="20" bottom="20" left="20" right="20"/></padding>
                    <Label text="Présence journalière" style="-fx-font-weight: bold; -fx-font-size: 18;"/>
                    <BarChart fx:id="presenceChart" legendVisible="false" prefHeight="280" styleClass="blue-bar-chart">
                        <xAxis><CategoryAxis side="BOTTOM" /></xAxis>
                        <yAxis><NumberAxis side="LEFT" upperBound="40" /></yAxis>
                    </BarChart>
                </VBox>

                <HBox spacing="20" VBox.vgrow="ALWAYS">
                    <VBox styleClass="white-card" HBox.hgrow="ALWAYS" spacing="15">
                        <padding><Insets top="20" bottom="20" left="20" right="20"/></padding>
                        <Label text="Derniers documents" style="-fx-font-weight: bold;"/>
                        <VBox fx:id="docsContainer" spacing="15"/>
                    </VBox>
                    <VBox styleClass="white-card" HBox.hgrow="ALWAYS" spacing="15">
                        <padding><Insets top="20" bottom="20" left="20" right="20"/></padding>
                        <Label text="Mises à jour" style="-fx-font-weight: bold;"/>
                        <VBox fx:id="updatesContainer" spacing="15"/>
                    </VBox>
                </HBox>
            </VBox>

            <VBox styleClass="white-card" HBox.hgrow="ALWAYS" spacing="20">
                <padding><Insets top="25" bottom="25" left="25" right="25"/></padding>
                <Label text="Planning de la journée" style="-fx-font-size: 24; -fx-font-weight: bold;"/>
                <TableView fx:id="appointmentsTable" VBox.vgrow="ALWAYS" styleClass="modern-big-table">
                    <columns>
                        <TableColumn fx:id="colHeure" prefWidth="90" text="Heure" />
                        <TableColumn fx:id="colClient" prefWidth="230" text="Client / Contact" />
                        <TableColumn fx:id="colObjet" prefWidth="250" text="Objet" />
                        <TableColumn fx:id="colMontant" prefWidth="110" text="Montant" />
                        <TableColumn fx:id="colStatus" prefWidth="130" text="Statut" />
                        <TableColumn fx:id="colActions" prefWidth="150" text="Actions" />
                    </columns>
                </TableView>
            </VBox>
        </HBox>
    </VBox>
</StackPane>